Looks like someone already made an STM32 USB Rubber Ducky Clone: [[Blog](https://satoshinm.github.io/blog/171227_stm32hid_pill_duck_scriptable_usb_hid_device_using_an_stm32_blue_pill_from_mouse_jigglers_to_rubber_duckies.html)] | [[Git](https://github.com/satoshinm/pill_duck)]. This could be a great resource in getting started. It's based on the libopencm3 open source STM32 HAL which we hadn't considered for the design.
